import{d as B,an as I,a9 as j,y as w,a as D,S as f,ao as E,o as p,ab as g,h as $,ad as v,n as m,u as o,ai as x,aj as N,e as P,P as h,g as S,v as b}from"./index.4f28c451.js";import{Q as U}from"./QInput.406e0e67.js";import{G as F}from"./GetSuffix.07bc2bf5.js";const T=B({__name:"CodeInput",props:{qtInputs:{type:Number,default:6},showSendCode:{type:Boolean,default:!0},code:String,mode:{type:String,default:null},disable:{type:Boolean,default:!1}},emits:["addCode","removeCode","sendCode"],setup(t,{emit:u}){const e=t,i=I(),k=j(i),y=w([]),a=w([]);Boolean(e.code)&&e.code&&(a.value=e.code.trim().split(""));const C=D(()=>f.lt.md),A=(s,r)=>{a.value[r]=s.length>0?s:null;const c=n=>{y.value[n]&&y.value[n].focus()};s.length>0?c(r+1):c(r-1)},V=s=>{const r=s.clipboardData.getData("text");if(!Number(r))return;const c=`${r}`.replaceAll(" ","").trim().split("");for(let n=0;n<e.qtInputs;n++)a.value[n]=c[n]};E(()=>{a.value.every(s=>s)&&a.value.length===e.qtInputs?u("addCode",a.value.filter(s=>s).toString().replaceAll(",","")):u("removeCode",null)});const q=()=>{e.mode&&(k[e.mode].value.active=!0,i.ActiveCounter2FA(e.mode,60),u("sendCode"))};return(s,r)=>{var c;return p(),g("div",{class:m([{"wp-100":o(f).gt.sm,"wp-55":o(f).sm,"wp-100":o(f).xs},"flex flex-inline justify-between"])},[$("p",{class:m([{"fs-14":o(C),"fs-16":!o(C)},"wp-100 q-mt-none q-mb-sm"])},v(s.$t("codeValidation.typeDigits")),3),(p(!0),g(x,null,N(t.qtInputs,(n,d)=>(p(),P(o(U),{key:d,dark:"",class:m(["text-center input",{"rounded--dark-input--withAlert":o(h).isActive,"rounded--light-input text-nv-light-accent":!o(h).isActive}]),style:{width:"3.34em"},rounded:"",outlined:"",disable:e.disable,modelValue:a.value[d],"onUpdate:modelValue":[l=>a.value[d]=l,l=>A(l,d)],ref_for:!0,ref:l=>{y.value[d]=l},onPaste:V,maxlength:"1",inputmode:"numeric",mask:"#",rules:[l=>l&&l.length>0||"Este campo es requerido."],color:"transparent"},null,8,["disable","modelValue","onUpdate:modelValue","rules","class"]))),128)),e.mode&&((c=o(i)[e.mode])==null?void 0:c.active)?S((p(),g("p",{key:0,style:{"margin-top":"-12px"},class:m(["wp-100 text-right fs-12 cursor-pointer",{"text-nv-tertiary":o(h).isActive,"text-nv-secondary":!o(h).isActive}])},v(s.$t("codeValidation.resendCode"))+" "+v(o(i)[e.mode].counter)+"s ",3)),[[b,t.showSendCode]]):S((p(),g("p",{key:1,class:m([`text-nv-${o(F)("accent")}`,"wp-100 text-right fs-12 cursor-pointer"]),style:{"margin-top":"-12px"},onClick:q},v(s.$t("codeValidation.sendCode")),3)),[[b,t.showSendCode]])],2)}}}),z=(t,u)=>{if(u==="email"){const e=t.split("@"),i=e[1].split(".");return e[0].slice(0,3).concat(e[0].slice(3,e[0].length).split("").map(()=>"*").join().replace(/,/g,""),"@").concat(i[0].split("").map(()=>"*").join().replace(/,/g,""),".",i[1])}else if(u==="phone")return t.slice(0,7).concat(t.slice(7,t.length-2).split("").map(()=>"*").join().replace(/,/g,"").concat(t.slice(t.length-2,t.length)));return t};export{z as E,T as _};
